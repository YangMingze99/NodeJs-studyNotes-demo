<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.css">
    <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.all.min.js"> </script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/lang/zh-cn/zh-cn.js"></script>
</head>

<body>
    <div class="container">
        <form action="/news/saveeditnews" method="POST">
            {{each news}}
            <input type="hidden" name="id" value="{{$value.id}}">
            <div class="form-group">
                <label for="title">新闻标题</label>
                <input type="text" class="form-control" id="title" name="title" value="{{$value.title}}">
            </div>
            <div class="form-group">
                <label for="author">新闻作者</label>
                <input type="text" class="form-control" id="author" name="author" value="{{$value.author}}">
            </div>
            <div class="form-group">
                <label for="keyword">新闻关键字</label>
                <input type="text" class="form-control" id="keyword" name="keyword" value="{{$value.keyword}}">
            </div>
            <div class="form-group">
                <label for="time">发布时间</label>
                <input type="datetime" class="form-control" id="time" name="time" value="{{$value.create_time}}">
            </div>
            <div class="form-group">
                <label for="count">新闻浏览量</label>
                <input type="text" class="form-control" id="count" name="count" value="{{$value.count}}">
            </div>
            <div class="form-group">
                <label for="top">新闻热度</label>
                <input type="text" class="form-control" id="hot" name="top" value="{{$value.top}}">
            </div>
            <div class="form-group">
                <label for="newstype">新闻类别</label>
                <select class="form-control" id="newstype" name="newstype">
                    {{each typelist value_type}}
                        <option value="{{value_type.tid}}" {{if value_type.tid == $value.tid}} selected {{/if}}>{{value_type.category}}</option>
                    {{/each}} 
                </select>
            </div>
            <div class="form-group">
                <label for="editor">新闻内容</label>
                <input type="hidden" id = "editorcon" value="{{$value.content}}">
                <script id="editor" type="text/plain" style="width:100%;height:500px;" ></script>
            </div>
            <div class="form-group">
                <button  type="submit" class="btn btn-primary btn-lg btn-block">提交信息</button>
            </div>
            {{/each}}
        </form>
    </div>
</body>
<script src="/jquery/jquery.js"></script>
<script src="/bootstrap/js/bootstrap.js"></script>
<script>
    var ue = UE.getEditor('editor');
    ue.addListener("ready", function () {
        let con = $("#editorcon").val();
        //赋值
        ue.setContent(con);
        //取值
        // var content = ue.getContent(con);
        // //输出测试
        // console.log(content);
});
</script>
</html>